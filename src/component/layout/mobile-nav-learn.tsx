"use client";

import Link from "next/link";
import { usePathname } from "next/navigation";
import { BiCandles } from "react-icons/bi";
import { PiBookBookmark, PiCoinVertical } from "react-icons/pi";
import ReferralIcon from "../icons/referral-icon";
import { useAuth } from "@/context/auth-context";

export default function MobileNav() {
  const pathname = usePathname();

  const {
    user: { game_data },
  } = useAuth();

  return (
    <header className="lg:hidden fixed bottom-0 inset-x-0 h-[72px] border-t border-t-white/10 bg-[#211F22] z-50 px-[18px] sm:px-6 py-4">
      <nav className="w-full flex items-center justify-between gap-2">
        <Link
          href={"/"}
          className={`flex flex-col items-center gap-2.5 sm:text-sm md:text-base ${
            pathname === "/" ? "text-[#A082F9]" : "text-[#F8F5FF80]"
          }`}
        >
          <PiBookBookmark className="w-3.5 h-4" />
          <p className="text-[10px] xs:text-xs">Learn to Earn</p>
        </Link>
        {game_data.level >= 2 && game_data.level >= 3 && (
          <Link
            href={"/trading-post"}
            className={`flex flex-col items-center gap-2.5 sm:text-sm md:text-base ${
              pathname === "/trading-post"
                ? "text-[#A082F9]"
                : "text-[#F8F5FF80]"
            }`}
          >
            <BiCandles width={16} height={13} />
            <p className="text-[10px] xs:text-xs">Trading post</p>
          </Link>
        )}
        <Link
          href={"#"}
          className={`flex flex-col items-center gap-2.5 sm:text-sm md:text-base ${
            pathname === "/coin" ? "text-[#A082F9]" : "text-[#F8F5FF80]"
          }`}
        >
          <PiCoinVertical width={14} height={19} />
          <p className="text-[10px] xs:text-xs">Coin</p>
        </Link>
        <Link
          href={"/leaderboard"}
          className={`flex flex-col items-center gap-2.5 sm:text-sm md:text-base ${
            pathname === "/leaderboard" ? "text-[#A082F9]" : "text-[#F8F5FF80]"
          }`}
        >
          <svg
            width="17"
            height="15"
            viewBox="0 0 17 15"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            className={`${
              pathname === "/leaderboard"
                ? "fill-[#A082F9]"
                : "fill-[#F8F5FF80]"
            }`}
          >
            <path d="M8.25 13.2784C9.36111 13.2784 10.3057 12.9065 11.0838 12.1626C11.8619 11.4187 12.2506 10.5149 12.25 9.45118C12.2494 8.3875 11.8607 7.48399 11.0838 6.74065C10.3069 5.99732 9.3623 5.62509 8.25 5.62396C7.1377 5.62282 6.19341 5.99505 5.41711 6.74065C4.64081 7.48626 4.25178 8.38977 4.25 9.45118C4.24822 10.5126 4.63726 11.4164 5.41711 12.1626C6.19696 12.9087 7.14126 13.2807 8.25 13.2784ZM5.68467 5.48362C5.96911 5.30559 6.27222 5.16242 6.594 5.05412C6.91637 4.94583 7.24793 4.86645 7.58867 4.81598L5.56556 0.978551H3.34333L5.68467 5.48362ZM4.00733 12.3726C4.01741 12.2774 4.04052 12.1725 4.07667 12.058C4.11222 11.9423 4.16437 11.8204 4.23311 11.6922C3.95933 11.2687 3.762 10.8114 3.64111 10.3204C3.52022 9.82937 3.48852 9.32389 3.546 8.80396C3.546 8.37871 3.62304 7.97501 3.77711 7.59285C3.93059 7.21126 4.14393 6.86795 4.41711 6.5629C4.20556 6.59749 4.01948 6.67006 3.85889 6.78063C3.6983 6.89176 3.58363 7.02415 3.51489 7.17781C2.85415 7.33147 2.33919 7.68726 1.97 8.24518C1.60081 8.80311 1.48793 9.42113 1.63133 10.0993C1.63133 10.7315 1.86215 11.2684 2.32378 11.7101C2.78541 12.1518 3.34659 12.3732 4.00733 12.3726ZM12.4927 12.3718C13.2974 12.3264 13.9768 12.0248 14.5309 11.4669C15.0844 10.9095 15.3611 10.2376 15.3611 9.45118C15.3611 8.66476 15.0841 7.99287 14.53 7.43551C13.9759 6.87815 13.2968 6.57623 12.4927 6.52973C12.4245 6.52973 12.3564 6.53257 12.2882 6.53824C12.2195 6.54391 12.1507 6.55213 12.082 6.5629C12.4139 6.9632 12.6728 7.40886 12.8589 7.89988C13.0456 8.3909 13.1389 8.908 13.1389 9.45118C13.1389 9.99437 13.0459 10.5115 12.8598 11.0025C12.6731 11.4935 12.4141 11.9392 12.0829 12.3395C12.151 12.3508 12.2192 12.359 12.2873 12.3641C12.3561 12.3698 12.4245 12.3718 12.4927 12.3718ZM8.25 14.1289C7.68052 14.1289 7.14244 14.0447 6.63578 13.8763C6.12911 13.7079 5.66896 13.4655 5.25533 13.1491C5.09889 13.1996 4.93415 13.2336 4.76111 13.2512C4.58807 13.2688 4.4103 13.2778 4.22778 13.2784C3.1303 13.2784 2.19311 12.9067 1.41622 12.1634C0.639333 11.4201 0.250593 10.5231 0.25 9.47245C0.25 8.43541 0.62837 7.54834 1.38511 6.81125C2.14185 6.07415 3.05859 5.69426 4.13533 5.67158C4.26096 5.67158 4.38067 5.6798 4.49444 5.69625C4.60822 5.71212 4.722 5.73112 4.83578 5.75323L2.41711 1.11633C2.29148 0.887264 2.29978 0.665285 2.442 0.450393C2.58363 0.236068 2.79074 0.128906 3.06333 0.128906H5.24556C5.51815 0.128906 5.76585 0.197513 5.98867 0.334726C6.21148 0.471939 6.38719 0.655079 6.51578 0.884146L8.25 4.18407L9.98333 0.884146C10.1119 0.655079 10.2876 0.471939 10.5104 0.334726C10.7333 0.197513 10.981 0.128906 11.2536 0.128906H13.4376C13.7101 0.128906 13.9176 0.236068 14.0598 0.450393C14.2014 0.665852 14.2094 0.887831 14.0838 1.11633L11.7033 5.69455C11.8059 5.67243 11.9113 5.65599 12.0198 5.64522C12.1276 5.63388 12.2387 5.62821 12.3531 5.62821C13.4411 5.65486 14.3626 6.03673 15.1176 6.77382C15.8725 7.51092 16.25 8.40337 16.25 9.45118C16.25 10.5154 15.8616 11.4195 15.0847 12.1634C14.3078 12.9073 13.3629 13.279 12.25 13.2784C12.071 13.2784 11.8971 13.2693 11.7282 13.2512C11.5593 13.2331 11.3964 13.199 11.2393 13.1491C10.8263 13.4547 10.367 13.6943 9.86156 13.8678C9.35607 14.0413 8.81889 14.1283 8.25 14.1289ZM8.25 10.3867L7.298 11.0756C7.22037 11.1244 7.14867 11.1252 7.08289 11.0782C7.01711 11.0311 6.99874 10.9688 7.02778 10.8911L7.38156 9.75651L6.44644 9.11099C6.36941 9.06222 6.3457 8.99985 6.37533 8.92388C6.40496 8.8479 6.46185 8.80991 6.546 8.80991H7.70867L8.07933 7.62432C8.10896 7.54721 8.16585 7.50865 8.25 7.50865C8.33415 7.50865 8.39104 7.54721 8.42067 7.62432L8.79133 8.80991H9.954C10.0381 8.80991 10.095 8.8479 10.1247 8.92388C10.1543 8.99985 10.1306 9.06222 10.0536 9.11099L9.11844 9.75736L9.47222 10.8902C9.50185 10.9679 9.48378 11.0303 9.418 11.0773C9.35222 11.1244 9.28022 11.1238 9.202 11.0756L8.25 10.3867ZM10.8162 5.48362L13.178 0.979401H10.9344L8.994 4.65864L9.09178 4.84575C9.4017 4.90245 9.70156 4.98183 9.99133 5.08389C10.2805 5.18595 10.5555 5.31919 10.8162 5.48362Z" />
          </svg>

          <p className="text-[10px] xs:text-xs">Leaderboard</p>
        </Link>
        <Link
          href={"/referral"}
          className={`flex flex-col items-center gap-2.5 sm:text-sm md:text-base ${
            pathname === "/referral" ? "text-[#A082F9]" : "text-[#F8F5FF80]"
          }`}
        >
          <ReferralIcon
            width={20}
            height={13}
            className={`${
              pathname === "/Referral" ? "fill-[#A082F9]" : "fill-[#F8F5FF80]"
            }`}
          />
          <p className="text-[10px] xs:text-xs">Referral</p>
        </Link>
      </nav>
    </header>
  );
}
